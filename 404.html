<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Redirecting…</title>
  <meta http-equiv="refresh" content="0; url=/">
  <link rel="canonical" href="/">
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", sans-serif; line-height: 1.4; padding: 2rem; }
  </style>
</head>
<body>
  <p>Redirecting to <a id="redirectLink" href="/">Ossett U8s Training RSVP</a>…</p>
  <script>
    (function () {
      const { hostname, pathname } = window.location;
      let redirectPath = '/';

      if (hostname.endsWith('github.io')) {
        const pathParts = pathname.split('/').filter(Boolean);
        if (pathParts.length > 0) {
          redirectPath = `/${pathParts[0]}/`;
        }
      }

      const updateTargets = () => {
        const refresh = document.querySelector('meta[http-equiv="refresh"]');
        if (refresh) {
          refresh.setAttribute('content', `0; url=${redirectPath}`);
        }

        const canonical = document.querySelector('link[rel="canonical"]');
        if (canonical) {
          canonical.setAttribute('href', redirectPath);
        }

        const link = document.getElementById('redirectLink');
        if (link) {
          link.setAttribute('href', redirectPath);
        }
      };

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', updateTargets);
      } else {
        updateTargets();
      }

      window.location.replace(redirectPath);
    })();
  </script>
</body>
</html>
