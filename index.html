<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ossett U8s Training RSVP</title>
  <base href="/OT-U8/">
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.css"
    integrity="sha384-OZ0IhPv9n0pL7HdGXGNaVw8o+u2bIgucSzizl4QjF6iccIRqcYPNNX1+KVRjyJmK"
    crossorigin="anonymous"
  >
  <script
    src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"
    integrity="sha384-NbgMOO5SeTEFDThH1hgYrxvG+F5yZunWnRj0Ss4XT3zkUjoU4MNVe95mH+0IMQE0"
    crossorigin="anonymous"
    defer
  ></script>
  <link rel="stylesheet" href="assets/styles.css">
  <script>
    window.__FIREBASE_CONFIG = window.__FIREBASE_CONFIG || {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID",
      appId: "YOUR_APP_ID"
    };
  </script>
</head>
<body>
  <noscript>
    <div class="noscript-notice" role="alert">
      JavaScript is disabled in your browser. Please enable it to use the Ossett U8s training planner.
    </div>
  </noscript>
  <header class="site-header">
    <div class="branding" role="presentation">
      <img
        src="assets/ossett-town-juniors-logo.png"
        alt="Ossett Town Juniors logo"
        class="logo"
        onerror="this.onerror=null;this.src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTyu6N7hTAm3wyYdXq_7aQm-hjdJWP-Icv0Og&s';"
      >
      <div class="branding-text">
        <h1>Coach RSVP Tracker</h1>
        <p class="tagline">Plan every session with confidence</p>
      </div>
    </div>
    <nav aria-label="Site navigation">
      <ul class="nav-links">
        <li><a href="#">Home</a></li>
        <li><a href="#">Schedule</a></li>
        <li><a href="#">Contact</a></li>
      </ul>
    </nav>
    <div id="auth-area" class="auth-area" aria-live="polite"></div>
  </header>

  <main class="site-main" id="main-content">
    <div class="container layout">
      <div class="primary-column">
        <section class="intro">
          <h2>Training session planner</h2>
          <p>
            Use the form to draft a new Ossett U8s training session. We'll validate the
            details, normalise the times to UTC, and keep a handy summary alongside the
            form so you can double-check everything before sharing it with the team.
          </p>
        </section>

        <section class="card">
          <h2>Create or edit a session</h2>
          <form id="event-form" class="event-form" novalidate>
            <div class="field">
              <label for="title">Title<span aria-hidden="true">*</span></label>
              <input id="title" name="title" type="text" required>
              <p class="field-help">Give the session a short, descriptive name.</p>
            </div>

            <div class="field-group">
              <div class="field">
                <label for="start">Start date &amp; time<span aria-hidden="true">*</span></label>
                <input id="start" name="start" type="datetime-local" required>
              </div>
              <div class="field">
                <label for="end">End date &amp; time</label>
                <input id="end" name="end" type="datetime-local">
                <p class="field-help">We'll default to a 60 minute session if left empty.</p>
              </div>
            </div>

            <div class="field">
              <label for="location">Location</label>
              <input id="location" name="location" type="text">
            </div>

            <div class="field">
              <label for="notes">Notes</label>
              <textarea
                id="notes"
                name="notes"
                rows="4"
                placeholder="Optional session notes, equipment reminders, or focus areas."
              ></textarea>
            </div>

            <div id="form-errors" class="form-errors" role="alert" hidden aria-live="assertive"></div>

            <div class="form-actions">
              <button type="submit" class="button">Save session</button>
            </div>
          </form>
        </section>
      </div>

      <aside class="secondary-column" aria-label="Team schedule and session summary">
        <section class="card calendar-card">
          <div class="calendar-toolbar">
            <h2>Team schedule</h2>
            <div class="calendar-toggle" role="group" aria-label="Calendar view">
              <button type="button" id="view-month" class="toggle-button" aria-pressed="true">
                Month view
              </button>
              <button type="button" id="view-list" class="toggle-button" aria-pressed="false">
                List view
              </button>
            </div>
          </div>
          <div id="calendar" class="calendar-surface" aria-live="polite"></div>
        </section>

        <section class="card" id="event-summary">
          <h2>Normalised session details</h2>
          <p class="placeholder">Fill out the form to preview the saved session details.</p>
          <dl class="summary-list" hidden>
            <div class="summary-item">
              <dt>Title</dt>
              <dd data-field="title"></dd>
            </div>
            <div class="summary-item">
              <dt>Location</dt>
              <dd data-field="location"></dd>
            </div>
            <div class="summary-item">
              <dt>Start (UTC)</dt>
              <dd data-field="start"></dd>
            </div>
            <div class="summary-item">
              <dt>End (UTC)</dt>
              <dd data-field="end"></dd>
            </div>
            <div class="summary-item">
              <dt>Notes</dt>
              <dd data-field="notes"></dd>
            </div>
          </dl>
        </section>
      </aside>
    </div>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite" hidden></div>

  <footer class="site-footer">
    <div class="container">
      <p>&copy; <span id="year"></span> Ossett U8s. All rights reserved.</p>
    </div>
  </footer>

  <div id="toast" class="toast" hidden role="status" aria-live="polite"></div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import {
      getAuth,
      onAuthStateChanged,
      signInWithPopup,
      GoogleAuthProvider,
      signOut
    } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
    import {
      getFirestore,
      collection,
      addDoc,
      getDocs,
      query,
      where,
      orderBy,
      serverTimestamp
    } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    window.__deps = {
      ...(window.__deps || {}),
      firebase: {
        initializeApp,
        getAuth,
        onAuthStateChanged,
        signInWithPopup,
        GoogleAuthProvider,
        signOut,
        getFirestore,
        collection,
        addDoc,
        getDocs,
        query,
        where,
        orderBy,
        serverTimestamp
      }
    };
  </script>
  <script src="src/app.js" type="module"></script>
  <script src="src/main.js" type="module"></script>
</body>
</html>
